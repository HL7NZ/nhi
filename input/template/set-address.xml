<div xmlns='http://www.w3.org/1999/xhtml'>

<div>
			<h2>Set Address</h2>
			<p>OPERATION: Set Address</p>
			<p>The official URL for this operation definition is: </p>
			<pre>https://nhi-ig.hip.digital.health.nz/OperationDefinition/set-address</pre>
			<div>
				<p>
					 Update a patient address. 
				</p>
				
			</div>
			<p>URL: [base]/Patient/$set-address</p>
			<p>Parameters</p>
			<table class='table table-bordered table-condensed'>
				<tr>
					<td>
						<b>Use</b>
					</td>
					<td>
						<b>Name</b>
					</td>
					<td>
						<b>Cardinality</b>
					</td>
					<td>
						<b>Type</b>
					</td>
					<td>
						<b>Binding</b>
					</td>
					<td>
						<b>Documentation</b>
					</td>
				</tr>
				<tr>
					<td>IN</td>
					<td>patient.NHI</td>
					<td>1..1</td>
					<td>
						<a href="https://www.hl7.org/fhir/datatypes.html#string">string</a>
					</td>
					<td />
					<td>
						<div>
							<p>The Patient's NHI number</p>
						</div>
					</td>
				</tr>
				<tr>
					<td>IN</td>
					<td>patient.meta.versionId</td>
					<td>1..1</td>
					<td>
						<a href="http://hl7.org/fhir/R4/datatypes.html#id">id</a>
					</td>
					<td />
					<td>
						<div>
							<p>The current value of the patient resources meta.versionId</p>
						</div>
					</td>
				</tr>
				<tr>
					<td>IN</td>
					<td>address-type</td>
					<td>1..1</td>
					<td>
						<a href="https://nzhts.digital.health.nz/fhir/ValueSet/addressType">NhiAddressType</a>
					</td>
					<td />
					<td>
						<div>
							<p>must be physical or postal</p>
						</div>
					</td>
				</tr>
				<tr>
					<td>IN</td>
					<td>nz-address-id</td>
					<td>1..1</td>
					<td>
						<a href="https://www.hl7.org/fhir/datatypes.html#string">string</a>
					</td>
					<td/>
					<td>
						<div>
							<p>The id of the validated address as retuned by the eSAM address service</p>
						</div>
					</td>
				</tr>
				<tr>
					<td>IN</td>
					<td>address-line</td>
					<td>0..1</td>
					<td>
						<a href="https://www.hl7.org/fhir/datatypes.html#string">string</a>
					</td>
					<td/>
					<td>
						<div>
							<p>The first line of the validated address as returned by eSAM</p>
						</div>
					</td>
				</tr>
				<tr>
					<td>IN</td>
					<td>building-name</td>
					<td>1..1</td>
					<td>
						<a href="https://www.hl7.org/fhir/datatypes.html#string">string</a>
					</td>
					<td/>
					<td>
						<div>
							<p>building name if required as additional address information</p>
						</div>
					</td>
				</tr>
				<tr>
					<td>OUT</td>
					<td>return</td>
					<td>1..1</td>
					<td>
						<a href="http://hl7.org/fhir/R4/patient.html">patient</a>
					</td>
					<td/>
					<td>
						<div>
							<p>The updated patient resource</p>
						</div>
					</td>
				</tr>
			</table>
			<div>
				<p>The NHI is validated, the versionId is validated, the name.id is validated. If all request parameters are valid the name.preferred boolean is set to TRUE on the requested name and FALSE on the current preferred name. 
				</p>
			</div>
		</div>
		
		
<OperationDefinition xmlns="http://hl7.org/fhir">
	<id value="Patient-set-preferred-name" />
	
	<extension
		url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm">
		<valueInteger value="5" />
	</extension>
	<extension
		url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
		<valueCode value="trial-use" />
	</extension>
	<url value="https://nhi-ig.hip.digital.health.nz/OperationDefinition/set-preferred-name" />
	<version value="1.0.0" />
	<name value="Set Preferred Name" />
	<title value="Set patient's preferred name" />
	<status value="draft" />
	<kind value="operation" />
	<experimental value="false" />
	<date value="2022-05-28T12:47:40+10:00" />
	<publisher value="Te Whatu Ora" />
	<contact>
		
		<telecom>
			<system value="email" />
			<value value="integration@health.govt.nz" />
		</telecom>
	</contact>
	<description
		value="Set patient's preferred name"/>
	<affectsState value="true" />
	<code value="set-preferred-name" />
	<comment
		value="The NHI is validated, the versionId is validated, the name.id is validated. If all request parameters are valid the name.preferred boolean is set to TRUE on the requested name and FALSE on the current preferred name. " />
	<resource value="Patient" />
	<system value="false" />
	<type value="false" />
	<instance value="true" />
	<parameter>
		<name value="resource" />
		<use value="in" />
		<min value="1" />
		<max value="1" />
		<documentation
			value="Use this to provide an entire set of patient details for the MPI to match against (e.g. POST a patient record to Patient/$match)." />
		<type value="Resource" />
	</parameter>
	<parameter>
		<name value="onlyCertainMatches" />
		<use value="in" />
		<min value="0" />
		<max value="1" />
		<documentation
			value="If there are multiple potential matches, then the match should not return the results with this flag set to true.  When false, the server may return multiple results with each result graded accordingly." />
		<type value="boolean" />
	</parameter>
	<parameter>
		<name value="count" />
		<use value="in" />
		<min value="0" />
		<max value="1" />
		<documentation
			value="The maximum number of records to return. If no value is provided, the server decides how many matches to return. Note that clients should be careful when using this, as it may prevent probable - and valid - matches from being returned" />
		<type value="integer" />
	</parameter>
	<parameter>
		<name value="return" />
		<use value="out" />
		<min value="1" />
		<max value="1" />
		<documentation
			value="A bundle contain a set of Patient records that represent possible matches, optionally it may also contain an OperationOutcome with further information about the search results (such as warnings or information messages, such as a count of records that were close but eliminated)  If the operation was unsuccessful, then an OperationOutcome may be returned along with a BadRequest status Code (e.g. security issue, or insufficient properties in patient fragment - check against profile)" />
		<type value="Bundle" />
	</parameter>
</OperationDefinition>
</div>